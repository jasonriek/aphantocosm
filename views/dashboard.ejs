<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/images/aphantocosm.ico" type="image/x-icon"/>
    <link href="/css/fontawesome.css" rel="stylesheet" />
    <link href="/css/brands.css" rel="stylesheet" />
    <link href="/css/solid.css" rel="stylesheet" />
    <link rel="stylesheet" href="/css/w3.css" />
    <link rel="stylesheet" href="/css/quill.snow.css" />
    <title>Aphantocosm Dashboard</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/dashboard.css">
    <script src="/js/quill.js"></script>
    <script src="/js/image-resize.min.js"></script>
    <script src="/js/quill.imageCompressor.min.js"></script>

</head>
<body>
    <div class="container">
        <h1>Welcome, <%= user %>!</h1>
        <a href="/logout">Logout</a>
    
        <% if (user && access_level === 1) { %>
          <!-- Display blog writing tools only for certain users -->
          <div class="w3-row main-container">
              <div class="w3-card-4 w3-margin panel" style="padding: 20px;">
                  <br>
                  <form action="/post" method="post" enctype="multipart/form-data">
                      <label for="title">Title:</label>
                      <input type="text" name="title" required>
                      <br><br>
                      <label for="title-image">Title Image:</label>
                      <input id="title-image-input" type="file" name="title-image" accept="image/*">
                      <br><br>
                      <img id="title-image-preview" src="#" alt="Image Preview" style="display: none; width: 100px; height: auto;"/>
                      <br><br>
                      <label for="category">Category:</label>
                      <select name="category" id="category-select" required>
                          <% categories.forEach(category => { %>
                              <option value="<%= category.name %>"><%= category.name %></option>
                          <% }); %>
                      </select>
                      <br><br>
                      <label for="content">Content:</label>
                      <div id="editor-container"></div>
                      <input type="hidden" name="content" id="hidden-editor-input">
                      <br>
                      <div class="inputbox">
                        <input type="submit" value="Post" id="btn" required>
                      </div>

                  </form>
              </div>
          </div>
          <% } %>
    </div>
    <script src="/js/quill_editor_posts.js"></script>
    <script src="/js/image-preview.js"></script>
    <script src="/js/utils.js"></script>
</body>
</html>
